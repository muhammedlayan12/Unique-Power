<!doctype html>
<html lang="zxx">
    <head>
        <!--========= Required meta tags =========-->
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Unique Power -Solar Inverter</title>
        <link rel="shortcut icon" href="assets/img/favicon.png" type="images/x-icon"/>
        <!-- css include -->
        <link rel="stylesheet" href="assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="assets/css/fontawesome.css">
        <link rel="stylesheet" href="assets/css/animate.css">
        <link rel="stylesheet" href="assets/css/metisMenu.css">
        <link rel="stylesheet" href="assets/css/uikit.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="assets/css/jquery-ui.css">
        <link rel="stylesheet" href="assets/css/slick.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

        <link rel="stylesheet" href="assets/css/magnific-popup.css">
        <link rel="stylesheet" href="assets/css/main.css">
    </head>
    <style>
        .red{
            color: red;
        }
        .green{
            color: rgb(0, 107, 0);
        }
        /* Cool, Responsive, and Awesome Checkout Page */
.checkout-container {
    max-width: 90%;
    background: #ffffff;
    padding: 25px;
    border-radius: 12px;
    font-family: "Poppins",sans-serif;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    margin: auto;
    overflow-x: auto;
    transition: all 0.3s ease-in-out;
}

h2, h3 {
    text-align: center;
    color: #0056b3;
    font-weight: bold;
    letter-spacing: 1px;
}

.checkout-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
    background: #f8f9fa;
    border-radius: 10px;
    overflow: hidden;
}

.checkout-table th {
    background: #0056b3;
    color: white;
    padding: 12px;
    font-size: 16px;
    text-transform: uppercase;
}

.checkout-table td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: center;
    font-size: 15px;
}

.product-image {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 8px;
    box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
    transition: transform 0.3s ease;
}

.product-image:hover {
    transform: scale(1.1);
}

.checkout-summary {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    color: #333;
    padding-top: 15px;
}

.confirm-btn {
    background: linear-gradient(135deg, #ffc107, #ff8c00);
    color: white;
    padding: 12px 24px;
    font-size: 18px;
    border: none;
    cursor: pointer;
    margin-top: 2vmin;
    border-radius: 8px;
    width: 100%;
    transition: background 0.3s ease, transform 0.2s;
    font-weight: bold;
}

.confirm-btn:hover {
    background: linear-gradient(135deg, #e0a800, #ff6a00);
    transform: translateY(-2px);
}

.payment-container {
    text-align: center;
    margin-top: 20px;
    padding: 20px;
    background: #f1f1f1;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
}

#payment-method {
    padding: 12px;
    border-radius: 8px;
    border: 2px solid #0056b3;
    font-size: 16px;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    text-align: center;
    font-weight: bold;
    color: #0056b3;
}

#payment-method:hover {
    background: #0056b3;
    color: white;
}

/* Responsive Design */
@media (max-width: 768px) {
    .checkout-container {
        padding: 15px;
    }

    .checkout-table thead {
        display: none;
    }

    .checkout-table, .checkout-table tbody, .checkout-table tr, .checkout-table td {
        display: block;
        width: 100%;
    }

    .checkout-table tr {
        margin-bottom: 15px;
        border-bottom: 2px solid #ddd;
        padding-bottom: 12px;
        background: white;
        border-radius: 8px;
    }

    .checkout-table td {
        text-align: left;
        display: flex;
        justify-content: space-between;
        padding: 10px;
        border: none;
        font-size: 16px;
    }

    .checkout-table td::before {
        content: attr(data-label);
        font-weight: bold;
        text-transform: capitalize;
        color: #0056b3;
    }

    .confirm-btn {
        font-size: 16px;
        padding: 12px;
    }
}


    </style>
    <body>
        <div class="body_wrap">
            <!-- preloder start  -->
            <div class="preloder_part">
                <div class="spinner">
                    <div class="dot1"></div>
                    <div class="dot2"></div>
                </div>
            </div>
            <!-- preloder end  -->
            <!-- back to top start -->
            <div class="progress-wrap">
                <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                    <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                </svg>
            </div>
            <!-- back to top end -->
        
            <!-- Cart Sidebar -->
<div class="cart_sidebar">
    <div class="cart_header">
        <h3 class="heading_title">Cart (<span>0</span>)</h3>
        <button class="close_cart" onclick="toggleCart()">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>

    <div class="cart_items_list"></div>

    <div class="cart_footer">
        <div class="total_price">
            <span>Total:</span>
            <span>0 Rs</span>
        </div>
        <button class="checkout_btn" onclick="checkout()">Checkout</button>
    </div>
</div>

<!-- Cart Sidebar -->
<div class="cart_sidebar">
    <div class="cart_header">
        <h3 class="heading_title">Cart (<span>0</span>)</h3>
        <button class="close_cart" onclick="toggleCart()">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>

    <div class="cart_items_list"></div>

    <div class="cart_footer">
        <div class="total_price">
            <span>Total:</span>
            <span>0 Rs</span>
        </div>
        <button class="checkout_btn">Checkout</button>
    </div>
</div>

<!-- Overlay to Close Cart -->
<div class="cart_overlay" onclick="toggleCart()"></div>

<!-- Cart Icon to Open Sidebar -->
 


            <nav class="navbar">
                <div class="humburger" onclick="openSideMenu()">Menu</div>
                <div class="logo">
                    <img src="./assets/img/product/LOGO1.png" alt="unique power logo" width="150">
                </div>
                <ul>
                    <li><a href="#">Home</a></li>
                    <li class="fdfssss">
                        <a href="#">Shop <i class="fa-solid fa-chevron-down"></i></a>
                        <ul class="ulssss">
                            <li><a href="solarpanel.html">Solar Panels</a></li>
                            <li><a href="charger.html">Chargers</a></li>
                            <li><a href="battery.html">Batteries</a></li>
                            <li><a href="solarinverter.html">Inverter</a></li>
                            <li><a href="ups.html">UPS</a></li>
                        </ul>
                    </li>
                    
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="accessories.html">Accessories</a></li>
                </ul>
                <div class="socialIcons">
                    <i class="fa-solid fa-search"></i>
                    <i class="fa-solid fa-shopping-cart" onclick="toggleCart()"></i>
                </div>
            </nav>
        
        
            <div class="sideMenuNav" id="sideMenu">
                <div class="cut" onclick="cutSideMenu()">X</div>
                <ul>
                    <li><a href="">Home</a></li>
                    <li>
                        <a href="#" class="haha">Shop <i class="fa-solid fa-chevron-down"></i></a>
                        <ol class="hahaha">
                            <li><a href="solarpanel.html">Solar Panels</a></li>
                            <li><a href="charger.html">Chargers</a></li>
                            <li><a href="battery.html">Batteries</a></li>
                            <li><a href="solarinverter.html">Inverter</a></li>
                            <li><a href="ups.html">UPS</a></li>
                        </ol>
                    </li>
                    
                    <li><a href="about.html">About</a></li>
                    <li><a href="accessories.html">Accessories</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
                <div class="socialIconsSideMenu">
                    <i class="fa-solid fa-search"></i>
                    <i class="fa-solid fa-shopping-cart" onclick="toggleCart()"></i>
                </div>
            </div>
            
        <div class="body-overlaysssssssss" id="body-overlaysssssssss"></div>
        <!-- slide-bar end -->


        <div class="checkout-container">
            <h2>Checkout</h2>
            <table class="checkout-table">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Product Name</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody id="checkout-items"></tbody>
            </table>
            <h3>Total Price: <span id="total-price">0 Rs</span></h3>
            <label for="payment-method">Select Payment Method:</label>
            <select id="payment-method">
                <option value="Cash on Delivery">Cash on Delivery</option>
                <option value="Easypaisa">Easypaisa</option>
                <option value="JazzCash">JazzCash</option>
            </select>
            <p id="payment-message" style="display: none;"></p>
            <button id="confirmOrderBtn" class="confirm-btn">Confirm Order</button>
        </div>
            

         <!-- footer start -->
         <footer class="footer" data-background="assets/img/bg/footer_bg.jpg">
            <div class="newslater newslater__border pt-30 pb-30">
                <div class="container">
                    <div class="newslater__two ul_li">
                        <div class="newslater__content">
                            <h2 class="title">
                                We are ready to <span>help</span>
                            </h2>
                            <p>For information Consult with our expert members</p>
                        </div>
                        <form class="newslater__form" action="#!">
                            <input placeholder="Enter your Email" type="text">
                            <button>Subscribe</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="footer__main pt-90 pb-90">
                    <div class="row mt-none-40">
                        <div class="footer__widget col-lg-3 col-md-6 mt-40">
                            <div class="footer__logo mb-20">
                                <a href="index.html">
                                    <img src="assets/img/product/LOGO1.png" alt="logo unique power">
                                </a>
                            </div>
                            <p>V74H+Q4W Bin Qasim Town, Karachi</p>
                            <ul class="footer__info mt-30">
                                <li>
                                    <i class="fa-solid fa-map-marker-alt"></i>
                                    V74H+Q4W Bin Qasim Town, Karachi
                                </li>
                                <li>
                                    <i class="fa-solid fa-phone"></i>
                                    03332191856
                                </li>
                            </ul>
                            <div class="apps-img mt-15 ul_li">
                                <div class="app mt-15">
                                    <a href="#!">
                                        <img src="assets/img/icon/google_play.png" alt="">
                                    </a>
                                </div>
                                <div class="app mt-15">
                                    <a href="#!">
                                        <img src="assets/img/icon/app_store.png" alt="">
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="footer__widget col-lg-3 col-md-6 mt-40">
                            <h2 class="title">Find It Fast</h2>
                            <ul class="quick-links">
                                <li>
                                    <a href="#!">Solar Panels</a>
                                </li>
                                <li>
                                    <a href="#!">Chargers</a>
                                </li>
                                <li>
                                    <a href="#!">Solar Inverters</a>
                                </li>
                                <li>
                                    <a href="#!">MPT Solar Controller</a>
                                </li>
                                <li>
                                    <a href="#!">UPS</a>
                                </li>
                                <li>
                                    <a href="#!">DC Converter</a>
                                </li>
                            </ul>
                        </div>
                        <div class="footer__widget col-lg-3 col-md-6 mt-40">
                            <h2 class="title">Quick Links</h2>
                            <ul class="quick-links">
                                <li>
                                    <a href="#!">Home</a>
                                </li>
                                <li>
                                    <a href="#!">About</a>
                                </li>
                                <li>
                                    <a href="#!">Contact</a>
                                </li>
                                
                                
                                <li>
                                    <a href="#!">Shop</a>
                                </li>
                            </ul>
                        </div>
                        <div class="footer__widget col-lg-3 col-md-6 mt-40">
                            <h2 class="title">Service us</h2>
                            <ul class="category">
                                <li>
                                    <a href="#!">Reapiring</a>
                                </li>
                                <li>
                                    <a href="#!">Fiting</a>
                                </li>
                                <li>
                                    <a href="#!">Cleaning</a>
                                </li>
                                <li>
                                    <a href="#!">Shipping</a>
                                </li>
                                <li>
                                    <a href="#!">Help</a>
                                </li>
                                <li>
                                    <a href="#!">Products Return</a>
                                </li>
                                <li>
                                    <a href="#!">FAQS</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="footer__bottom ul_li_center">
                    <div class="footer__copyright mt-15">
                        &copy;2025 <a href="#!">Muhammad Layan</a>
                        . All Rights Reserved.
                
                    </div>
                    <div class="footer__social mt-15">
                        <a href="#!">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#!">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#!">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#!">
                            <i class="fab fa-youtube"></i>
                        </a>
                        <a href="#!">
                            <i class="fab fa-pinterest"></i>
                        </a>
                    </div>
                    <div class="payment_method mt-15">
                        <img src="assets/img/bg/payment_method.png" alt="">
                    </div>
                </div>
            </div>
        </footer>
        <!-- footer end -->
        <!-- start newsletter-popup-area-section -->
        <section class="newsletter-popup-area-section">
            <div class="newsletter-popup-area">
                <div class="newsletter-popup-ineer">
                    <button class="btn newsletter-close-btn">
                        <i class="fa-solid fa-times"></i>
                    </button>
                    <div class="img-holder">
                        <img src="assets/img/bg/newsletter.jpg" alt>
                    </div>
                    <div class="details">
                        <h4>Get 45% discount shipped to your inbox</h4>
                        <p>Subscribe to the radios eCommerce newsletter to receive timely updates to your favorite products</p>
                        <form>
                            <div>
                                <input type="email" placeholder="Enter your email"/>
                                <button type="submit">Subscribe</button>
                            </div>
                            <div>
                                <label class="checkbox-holder">
                                    Don't show this popup again!
                                <input type="checkbox" class="show-message">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- end newsletter-popup-area-section -->
        <!-- start cookies-area -->
        <div class="cookies-area">
            <p>
                This website uses cookies to improve your experience. By using this website you agree to our <a href="#">Data Protection Policy</a>
                . 
            </p>
            <a href="#" class="read-more">Read more</a>
            <div>
                <button class="cookie-btn">Accept</button>
            </div>
        </div>
        <!-- end cookies-area -->
    </div>
    <!-- jquery include -->
    <script src="assets/js/jquery-3.5.1.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/slick.js"></script>
    <script src="assets/js/backToTop.js"></script>
    <script src="assets/js/uikit.min.js"></script>
    <script src="assets/js/resize-sensor.min.js"></script>
    <script src="assets/js/theia-sticky-sidebar.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/jqueryui.js"></script>
    <script src="assets/js/touchspin.js"></script>
    <script src="assets/js/countdown.js"></script>
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/js/metisMenu.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
    <script>
      var swiper = new Swiper(".mySwiper", {
slidesPerView: 4, // Default
spaceBetween: 10,
loop: true,
navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
},
pagination: {
    el: ".swiper-pagination",
    clickable: true,
},
breakpoints: {
    1024: {
        slidesPerView: 4, 
    },
    768: {
        slidesPerView: 2,
    },
    480: {
        slidesPerView: 1, 
    },
},
});

      </script>
     
        
        <script>
            const projectId = "yftyosth"; 
            const dataset = "production"; 
        
            function getImageUrl(image) {
                return image?.asset?._ref
                    ? `https://cdn.sanity.io/images/${projectId}/${dataset}/${image.asset._ref.replace('image-', '').replace('-jpg', '.jpg').replace('-png', '.png')}`
                    : 'fallback-image.jpg';
            }
            function getImageUrlCart(image) {
    if (!image || !image.asset || !image.asset._ref) {
        return 'fallback-image.jpg';
    }
    return `https://cdn.sanity.io/images/${projectId}/${dataset}/${image.asset._ref.replace('image-', '').replace('-jpg', '.jpg').replace('-png', '.png')}`;
}

            async function fetchSanityData() {
    const query = encodeURIComponent('*[_type=="ups"]{_id,name,price,description,hoverImage,stock,image}');
    const url = `https://${projectId}.api.sanity.io/v2021-06-07/data/query/${dataset}?query=${query}`;

    try {
        const response = await fetch(url);
        const { result } = await response.json();

        document.getElementById("ups").innerHTML = result
            .map(post => `
            <li class="productsss">
    <div class="productsss-holder">
        <img class="default-img" src="${getImageUrl(post.image)}" alt="${post.name}">
        <img class="hover-img" src="${getImageUrl(post.hoverImage)}" alt="${post.name}">
        <ul class="product__action">
            <li><a href="#!"><i class="fa-solid fa-compress-alt"></i></a></li>
        </ul>
        <button class="add-to-cart-btn" onclick="addToCart('${post._id}', '${post.name}', ${post.price}, '${getImageUrlCart(post.image)}')">
            Add to Cart
        </button>
    </div>
    <div class="product-info">
        <h2 class="product__title">${post.name}</h2>
        <span>Available: <span class="${post.stock == 'In Stock' ? 'green' : 'red'}">${post.stock}</span></span>
        <h4 class="product__price"><span class="new">${post.price} Rs</span></h4>
        <p class="product-description">${post.description}</p>
    </div>
</li>`).join('');
            

    } catch (error) {
        console.error("Error fetching data:", error);
    }
}

        
            fetchSanityData();


            function addToCart(productId, name, price, image) {
    console.log("Adding to cart:", { productId, name, price, image }); 

    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    let existingProduct = cart.find(item => item.id === productId);

    if (existingProduct) {
        existingProduct.quantity += 1;
    } else {
        cart.push({ id: productId, name, price, image, quantity: 1 });
    }

    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartUI();
}



function updateCartUI() {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    let cartList = document.querySelector(".cart_items_list");
    let totalPrice = 0;

    if (cart.length === 0) {
        cartList.innerHTML = `<p class="empty-cart">Your cart is empty.</p>`;
        document.querySelector(".heading_title span").textContent = "0";
        document.querySelector(".total_price span:last-child").textContent = "0 Rs";
        return;
    }

    
    cartList.innerHTML = cart
    .map(item => {
        totalPrice += item.price * item.quantity;
        return `
        <div class="cart_item">
            <div class="item_image">
                <img src="${item.image}" alt="${item.name}" >
            </div>
            <div class="item_content">
                <h4 class="item_title">${item.name}</h4>
                <span class="item_price">${item.price} Rs x ${item.quantity}</span>
                <button type="button" class="remove_btn" onclick="removeFromCart('${item.id}')">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
        </div>`;
    })
    .join("");


    document.querySelector(".heading_title span").textContent = cart.length;
    // document.querySelector(".heading_title span").src = cart.image;
    document.querySelector(".total_price span:last-child").textContent = totalPrice.toFixed(2) + " Rs";
}

function removeFromCart(productId) {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart = cart.filter(item => item.id !== productId);
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartUI();
}

 
document.addEventListener("DOMContentLoaded", function () {
    let checkoutTableBody = document.querySelector("#checkout-items");
    let totalPriceElement = document.querySelector("#total-price");
    let confirmOrderBtn = document.querySelector("#confirmOrderBtn");
    let paymentMethodSelect = document.querySelector("#payment-method");
    let paymentMessage = document.querySelector("#payment-message");

    function displayCheckoutItems() {
        let orderItems = JSON.parse(localStorage.getItem("order")) || [];
        checkoutTableBody.innerHTML = "";

        if (orderItems.length === 0) {
            checkoutTableBody.innerHTML = `<tr><td colspan="5">No items in checkout.</td></tr>`;
            totalPriceElement.textContent = "0 Rs";
            return;
        }

        let totalAmount = 0;
        orderItems.forEach((item) => {
            let totalItemPrice = item.price * item.quantity;
            totalAmount += totalItemPrice;

            let row = document.createElement("tr");
            row.innerHTML = `
                <td><img src="${item.image || 'default.jpg'}" alt="${item.name}" width="50" height="50"></td>
                <td>${item.name || 'No Name'}</td>
                <td>${item.quantity || 1}</td>
                <td>${item.price.toFixed(2)} Rs</td>
                <td class="total-item-price">${totalItemPrice.toFixed(2)} Rs</td>
            `;
            checkoutTableBody.appendChild(row);
        });

        totalPriceElement.textContent = `${totalAmount.toFixed(2)} Rs`;
    }

    paymentMethodSelect.addEventListener("change", function () {
        if (this.value === "Easypaisa" || this.value === "JazzCash") {
            paymentMessage.style.display = "block";
            paymentMessage.textContent = "Send payment SS on this WhatsApp: 4324236784632";
        } else {
            paymentMessage.style.display = "none";
        }
    });

    async function uploadImageToSanity(imageFile) {
        let formData = new FormData();
        formData.append("file", imageFile);
        formData.append("dataset", "production");
        formData.append("token", "skdqx6yKv40RBVyiir52biOMPf129Bo78esITokTqLoGtxnwQ4OdOVhjrJUZFeZPVkaCDj55TDYrrHAzg00NHrblEF9fdrEcwl2nZHi4o81OCjRPKmupl2ACif0EyRsNSl3mIJqZDInTUzuVFjDFXlLhEQ3sDKcjNjPleh1ksghjhxl9sTYc");

        try {
            let response = await fetch(`https://api.sanity.io/v1/assets/images/${projectId}/production`, {
                method: "POST",
                body: formData,
            });

            let result = await response.json();
            return result.url;
        } catch (error) {
            console.error("Image Upload Error:", error);
            return null;
        }
    }

    confirmOrderBtn.addEventListener("click", async function () {
        let orderItems = JSON.parse(localStorage.getItem("order")) || [];
        if (orderItems.length === 0) {
            alert("Your checkout is empty!");
            return;
        }

        let customerName = prompt("Enter your name:");
        let phoneNumber = prompt("Enter your phone number:");
        let email = prompt("Enter your email:");
        let paymentMethod = paymentMethodSelect.value;

        if (!customerName || !phoneNumber || !email) {
            alert("All details are required!");
            return;
        }

        let uploadedImages = await Promise.all(
            orderItems.map(async (item) => {
                if (item.imageFile) {
                    let uploadedUrl = await uploadImageToSanity(item.imageFile);
                    return { ...item, image: uploadedUrl || item.image };
                }
                return item;
            })
        );

        let orderData = {
            _type: "orderss",
            customerName,
            phone: phoneNumber,
            email,
            paymentMethod,
            orderItems: uploadedImages.map(item => ({
                _type: "orderItem",
                name: item.name || "Unknown",
                image: item.image || "default.jpg",
                quantity: item.quantity || 1,
                price: item.price || 0,
                totalPrice: (item.price * item.quantity) || 0
            })),
            totalAmount: parseFloat(totalPriceElement.textContent),
            orderDate: new Date().toISOString()
        };

        try {
            let response = await fetch("https://yftyosth.api.sanity.io/v2022-03-07/data/mutate/production", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "Authorization": "Bearer skdqx6yKv40RBVyiir52biOMPf129Bo78esITokTqLoGtxnwQ4OdOVhjrJUZFeZPVkaCDj55TDYrrHAzg00NHrblEF9fdrEcwl2nZHi4o81OCjRPKmupl2ACif0EyRsNSl3mIJqZDInTUzuVFjDFXlLhEQ3sDKcjNjPleh1ksghjhxl9sTYc"
                },
                body: JSON.stringify({ mutations: [{ create: orderData }] })
            });

            let result = await response.json();
            console.log("Sanity Order Response:", result);

            alert("Your order has been placed successfully!");
            localStorage.removeItem("order");
            window.location.href = "order-confirmation.html";
        } catch (error) {
            console.error("Error sending data to Sanity:", error);
            alert("Failed to place order. Please try again.");
        }
    });

    displayCheckoutItems();
});



// const usersFilter = document.getElementById("productTitle");

// const inputValueFilter = document.getElementById("inputFilter");
// const resultFilter = document.getElementById("resultFilter");

// inputValueFilter.addEventListener("input",()=>{

//     let search = inputValueFilter.value.toLowerCase();
//     let userfound = usersFilter.filter(user => user.toLowerCase().includes(search));
//     if(userfound.length > 0){
//         resultFilter.innerHTML=`Searching Name Is ${userfound}`;
//     } else{
//         resultFilter.innerHTML=`User Not Found`;
//     }

// });
        </script>
    </body>
</html>
